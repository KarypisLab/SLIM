<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SLIM: SLIM Documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SLIM
   &#160;<span id="projectnumber">2.0</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('index.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">SLIM Documentation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#download">Downloading SLIM</a></li>
<li class="level1"><a href="#installation">Building standalone SLIM binary and shared library</a><ul><li class="level2"><a href="#deps">Dependencies</a></li>
<li class="level2"><a href="#without_mkl">Building and installing SLIM</a><ul><li class="level3"><a href="#mkl_build">Building SLIM with Intel&#39;s MKL support (optional)</a></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><a href="#pythonpackage">Python Package installation</a></li>
<li class="level1"><a href="#getting_started">Getting Started</a><ul><li class="level2"><a href="#python_getting_started">Python</a></li>
<li class="level2"><a href="#standalone_getting_Started">Standalone</a></li>
</ul>
</li>
<li class="level1"><a href="#parameters">SLIM parameters</a></li>
<li class="level1"><a href="#Citing">Citing</a></li>
<li class="level1"><a href="#contact">Credits &amp; Contact Information</a></li>
<li class="level1"><a href="#license">Copyright &amp; License Notice</a></li>
</ul>
</div>
<div class="textblock"><p>Sparse LInear Method (SLIM) <a class="el" href="d0/de3/citelist.html#CITEREF_ning2011slim">[1]</a> is an item-based top-N recommendation approach that combines the advantages of neighborhood- and model-based collaborative filtering methods. It achieves state-of-the-art recommendation performance and has low computational requirements.</p>
<p>This package provides a C-based optimized multi-threaded implementation of SLIM that consists of a set of command-line programs and a user-callable library for estimating and applying SLIM models as well as an easy to use Python interface.</p>
<h2></h2>
<h1><a class="anchor" id="download"></a>
Downloading SLIM</h1>
<p>SLIM uses Git submodules to manage external dependencies. Hence, please specify the <code>--recursive</code> option while cloning the repo as follow: </p><div class="fragment"><div class="line">git clone --recursive https://github.umn.edu/dminers/slim.git</div></div><!-- fragment --><h1><a class="anchor" id="installation"></a>
Building standalone SLIM binary and shared library</h1>
<p>To build SLIM you can follow the instructions below:</p>
<h2><a class="anchor" id="deps"></a>
Dependencies</h2>
<p>General dependencies for building slim are: gcc, cmake, build-essential. In Ubuntu systems these can be obtained from the apt package manager (e.g., apt-get install cmake, etc)</p>
<pre class="fragment">sudo apt-get install build-essential
sudo apt-get install cmake
</pre><h2><a class="anchor" id="without_mkl"></a>
Building and installing SLIM</h2>
<p>In order to build SLIM, first build GKlib by running:</p>
<pre class="fragment">cd lib/GKlib
make config openmp=set
make
cd ../../
</pre><p>After building GKlib, you can build and install SLIM by running:</p>
<pre class="fragment">make config shared=1 cc=gcc cxx=gcc prefix=~/.local
make install
</pre><h3><a class="anchor" id="mkl_build"></a>
Building SLIM with Intel's MKL support (optional)</h3>
<p>In order to use SLIM's ADMM solver, you will need to install <a href="https://software.intel.com/en-us/mkl">Intel's MKL library</a>.</p>
<p>For Ubuntu machines on which you have <code>sudo</code> privilages, we provided the <code>depmkl.sh</code> script that automates the process of obtaining and installing MKL, which can be used as follows:</p>
<pre class="fragment">bash depmkl.sh
source ~/.bashrc 
</pre><p>For machines on which you do not have <code>sudo</code> privilages, you should download the MKL tarball from <a href="https://software.intel.com/en-us/mkl">Intel's website</a> and then install it locally using the <code>install.sh</code> script they provide. After installing it you should add <code>your-path-to-intel/intel/mkl/bin/mklvars.sh intel64</code>in your bashrc and run <code>source ~/.bashrc</code>.</p>
<p>You can build and install SLIM with MKL support by running:</p>
<pre class="fragment">make config shared=1 cc=gcc cxx=gcc with_mkl=1 prefix=~/.local
make install
</pre><p>Note that SLIM's ADMM solver usually outperforms the default optimizer included in SLIM when the number of items in the dataset is relatively small compared to the number of users and the number of non-zeros in the dataset is large.</p>
<h1><a class="anchor" id="pythonpackage"></a>
Python Package installation</h1>
<p>The Python package is located at <code>python-package/</code>. The installation of python-package requires Python <code>distutils</code> module and is often part of the core Python package or can be installed using a package manager, e.g., in Debian use</p>
<pre class="fragment">sudo apt-get install python-setuptools
</pre><p>After building the SLIM library, follow one of the following steps to install the python-package:</p>
<ol type="1">
<li>Install python-package system-wide (this requires sudo priveleges): <pre class="fragment">cd python-package
sudo python setup.py install
</pre></li>
<li>Install python-package only for the current users (without sudo priveleges): <pre class="fragment">cd python-package
python setup.py install --user
</pre></li>
</ol>
<h1><a class="anchor" id="getting_started"></a>
Getting Started</h1>
<p>Here are some examples to quickly try out SLIM on the sample datasets that are provided with SLIM.</p>
<h2><a class="anchor" id="python_getting_started"></a>
Python</h2>
<div class="fragment"><div class="line">import pandas <span class="keyword">as</span> pd</div><div class="line"><span class="keyword">from</span> SLIM <span class="keyword">import</span> SLIM, SLIMatrix</div><div class="line"></div><div class="line"><span class="comment">#read training data stored as triplets &lt;user&gt; &lt;item&gt; &lt;rating&gt;</span></div><div class="line">traindata = pd.read_csv(<span class="stringliteral">&#39;../test/AutomotiveTrain.ijv&#39;</span>, delimiter = <span class="stringliteral">&#39; &#39;</span>, header=<span class="keywordtype">None</span>)</div><div class="line">trainmat = SLIMatrix(traindata)</div><div class="line"></div><div class="line"><span class="comment">#set up parameters to learn model, e.g., use Coordinate Descent with L1 and L2</span></div><div class="line"><span class="comment">#regularization</span></div><div class="line">params = {<span class="stringliteral">&#39;algo&#39;</span>:<span class="stringliteral">&#39;cd&#39;</span>, <span class="stringliteral">&#39;nthreads&#39;</span>:2, <span class="stringliteral">&#39;l1r&#39;</span>:1., <span class="stringliteral">&#39;l2r&#39;</span>:1.}</div><div class="line"></div><div class="line"><span class="comment">#learn the model using training data and desired parameters</span></div><div class="line">model = SLIM()</div><div class="line">model.train(params, trnmat)</div><div class="line"></div><div class="line"><span class="comment">#read test data having candidate items for users</span></div><div class="line">testdata = pd.read_csv(<span class="stringliteral">&#39;../test/AutomotiveTest.ijv&#39;</span>, delimiter = <span class="stringliteral">&#39; &#39;</span>, header=<span class="keywordtype">None</span>)</div><div class="line"><span class="comment">#NOTE: model object is passed as an argument while generating test matrix</span></div><div class="line">testmat = SLIMatrix(testdata, model)</div><div class="line"></div><div class="line"><span class="comment">#generate top-10 recommendations</span></div><div class="line">prediction_res = model.predict(testmat, nrcmds=10, outfile = <span class="stringliteral">&#39;output.txt&#39;</span>)</div><div class="line"></div><div class="line"><span class="comment">#dump the model to files on disk</span></div><div class="line">model.save_model(modelfname=<span class="stringliteral">&#39;model.csr&#39;</span>, <span class="comment"># filename to save the model as a csr matrix</span></div><div class="line">                 mapfname=<span class="stringliteral">&#39;map.csr&#39;</span> <span class="comment"># filename to save the item map</span></div><div class="line">                )</div><div class="line"></div><div class="line"><span class="comment">#load the model from from disk</span></div><div class="line">model_new = SLIM()</div><div class="line">model_new.load_model(modelfname=<span class="stringliteral">&#39;model.csr&#39;</span>, <span class="comment"># filename of the model</span></div><div class="line">                 mapfname=<span class="stringliteral">&#39;map.csr&#39;</span> <span class="comment"># filename of the item map</span></div><div class="line">                )</div></div><!-- fragment --><p>The users can also refer to the python notebook <code>UserGuide.ipynb</code> located at <code>./python-package/UserGuide.ipynb</code> for more examples on using the python api.</p>
<h2><a class="anchor" id="standalone_getting_Started"></a>
Standalone</h2>
<p>SLIM can also be used standalone by running the built binaries located under <code>./build</code> directory. The <code>slim_learn</code> and <code>slim_predict</code> program can be used to learn the model and predict using an existing model, respectively. The usage of <code>slim_learn</code> is generally as follow:</p>
<pre class="fragment">slim_learn [options] train-file [output-model-file] 
</pre><p>In above command, <code>train-file</code> refers to the rating matrix stored in a file on disk in sparse format (by default it expects CSR format) and <code>output-model-file</code> is the name of the file that will be used to save the learned model. The available options will be described later in detail. Following shows an example of using the <code>slim_learn</code> program:</p>
<pre class="fragment">./build/Linux-x86_64/src/programs/slim_learn test/ml100k-train.csr model_output.slim
</pre><p>Similarly, the recommendations can be generated by using the program <code>slim_predict</code> and the usage of <code>slim_predict</code> is as follow:</p>
<pre class="fragment">slim_predict [options] model-file train-file [test-file]
</pre><p>In above command, <code>model-file</code> refers to the SLIM model saved in a file, <code>train-file</code> refers to the training data or past historical data used to generate the model and <code>test-file</code> is the test data containing hidden ratings for the users.</p>
<h1><a class="anchor" id="parameters"></a>
SLIM parameters</h1>
<p>The following optional parameters can be provided to the <code>slim_learn</code> program.</p><ul>
<li>ifmt [default=csr]<ul>
<li>Specifies the format of the input file. Available options are: csr - CSR format [default]. csrnv - CSR format without ratings. cluto - Format used by CLUTO. ijv - One (row#, col#, val) per line.</li>
</ul>
</li>
<li>binarize [default=0]<ul>
<li>Specifies that the ratings should be binarized.</li>
</ul>
</li>
<li>l1r [default=1.0]<ul>
<li>Specifies the L1 regularization parameter.</li>
</ul>
</li>
<li>ipmdlfile [default=""]<ul>
<li>Specifies the file used to initilize the model.</li>
</ul>
</li>
<li>l2r [default=1.0]<ul>
<li>Specifies the L2 regularization parameter.</li>
</ul>
</li>
<li>nnbrs [default=0]<ul>
<li>Selects fSLIM model and specifies the number of item nearest neighbors to be used. Specifying few neighbors will speed-up the model learning but it may lower the accuracy. The parameter <em>simtype</em> sets the measurement of similarity. This package supports three similarity measurements, Jaccard similarity ("jac"), Cosine similarity ("cos"), and inner product ("dotp"). The default value for <em>simtype</em> is "cos". A fSLIM model can be used in the same way with a SLIM model. Note that, a fSLIM model can only be trained using coordinate descent.</li>
</ul>
</li>
<li>simtype [default=cos]<ul>
<li>Specifies the similarity function for determining the neighbors. Available options are:<ul>
<li>cos - cosine similarity [default].</li>
<li>jac - extended Jacquard similarit.</li>
<li>dotp - dot-product similarity.</li>
</ul>
</li>
</ul>
</li>
<li>algo [default=cd]<ul>
<li>Specifies the optimization algorithms for learning the model. Available options are:<ul>
<li>admm - ADMM.</li>
<li>cd - Coordinate Descent.</li>
</ul>
</li>
</ul>
</li>
<li>optTol [default=1e-7]<ul>
<li>Specifies the threshold used during optimization for termination.</li>
</ul>
</li>
<li>niters [default=10000]<ul>
<li>Specifies the maximum number of allowed optimization iterations.</li>
</ul>
</li>
<li>nthreads<ul>
<li>Specifies the number of threads to be used for estimation. Default value is maximum number of threads available on the machine.</li>
</ul>
</li>
<li>dbglvl<ul>
<li>Specifies the debug level. The default value turns on info and timing.</li>
</ul>
</li>
<li>help<ul>
<li>Prints the parameter details.</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="Citing"></a>
Citing</h1>
<p>If you use any part of this library in your research, please cite it using the following BibTex entry:</p>
<pre class="fragment">@online{slim,
  title = {{SLIM}: Sparse LInear Model library},
  author = {Ning, Xia and Nikolakopoulos, Athanasios N. and Shui, Zeren and Sharma, Mohit and Karypis, George},
  url = {https://github.com/KarypisLab/SLIM},
  publisher = {GitHub},
  journal = {GitHub Repository},
  year = {2019},
}
</pre><h1><a class="anchor" id="contact"></a>
Credits &amp; Contact Information</h1>
<p>SLIM was written by George Karypis with contributions by Xia Ning, Athanasios N. Nikolakopoulos, Zeren Shui and Mohit Sharma.</p>
<p>If you encounter any problems or have any suggestions, please contact George Karypis at <a href="#" onclick="location.href='mai'+'lto:'+'kar'+'yp'+'is@'+'cs'+'.um'+'n.'+'edu'; return false;">karypis@cs.umn.edu</a>.</p>
<h1><a class="anchor" id="license"></a>
Copyright &amp; License Notice</h1>
<p>Copyright 2019, Regents of the University of Minnesota</p>
<p>Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at</p>
<p><a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></p>
<p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>
